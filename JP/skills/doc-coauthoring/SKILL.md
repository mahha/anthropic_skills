---
name: doc-coauthoring
description: ドキュメントの共同作成のための構造化されたワークフローをユーザーに案内します。ユーザーがドキュメント、提案、技術仕様、意思決定ドキュメント、または類似の構造化コンテンツを書きたいときに使用します。このワークフローは、ユーザーが効率的にコンテキストを転送し、反復を通じてコンテンツを洗練し、ドキュメントが読者にとって機能することを確認するのに役立ちます。ユーザーがドキュメントを書く、提案を作成する、仕様を起草する、または類似のドキュメントタスクに言及したときにトリガーします。
---

# ドキュメント共同作成ワークフロー

このスキルは、ユーザーを共同ドキュメント作成に案内するための構造化されたワークフローを提供します。アクティブなガイドとして機能し、ユーザーを3つのステージに案内します：コンテキスト収集、洗練と構造化、読者テスト。

## このワークフローを提供するタイミング

**トリガー条件：**
- ユーザーがドキュメント作成に言及：「ドキュメントを書く」、「提案を起草する」、「仕様を作成する」、「書き上げる」
- ユーザーが特定のドキュメントタイプに言及：「PRD」、「デザインドキュメント」、「意思決定ドキュメント」、「RFC」
- ユーザーが実質的な執筆タスクを開始しているように見える

**最初の提供：**
ユーザーにドキュメントの共同作成のための構造化されたワークフローを提供します。3つのステージを説明します：

1. **コンテキスト収集**: ユーザーがすべての関連コンテキストを提供し、Claudeが明確化の質問をします
2. **洗練と構造化**: ブレインストーミングと編集を通じて各セクションを反復的に構築します
3. **読者テスト**: 新しいClaude（コンテキストなし）でドキュメントをテストし、他の人が読む前に盲点をキャッチします

このアプローチは、他の人が読むとき（Claudeに貼り付ける場合を含む）にドキュメントがうまく機能することを保証するのに役立つことを説明します。このワークフローを試したいか、自由形式で作業したいかを尋ねます。

ユーザーが拒否した場合、自由形式で作業します。ユーザーが受け入れた場合、ステージ1に進みます。

## ステージ1：コンテキスト収集

**目標：** ユーザーが知っていることとClaudeが知っていることの間のギャップを埋め、後でスマートなガイダンスを可能にします。

### 最初の質問

ドキュメントに関するメタコンテキストをユーザーに尋ねることから始めます：

1. これはどのタイプのドキュメントですか？（例：技術仕様、意思決定ドキュメント、提案）
2. 主なオーディエンスは誰ですか？
3. 誰かがこれを読んだときの望ましい影響は何ですか？
4. 従うべきテンプレートまたは特定のフォーマットはありますか？
5. 知っておくべきその他の制約やコンテキストはありますか？

簡潔に答えるか、最適な方法で情報をダンプできることを伝えます。

**ユーザーがテンプレートを提供するか、ドキュメントタイプに言及した場合：**
- 共有するテンプレートドキュメントがあるか尋ねます
- 共有ドキュメントへのリンクを提供した場合、適切な統合を使用して取得します
- ファイルを提供した場合、読み取ります

**ユーザーが既存の共有ドキュメントの編集に言及した場合：**
- 適切な統合を使用して現在の状態を読み取ります
- alt-textのない画像をチェックします
- alt-textのない画像が存在する場合、他の人がClaudeを使用してドキュメントを理解するとき、Claudeはそれらを見ることができないことを説明します。alt-textを生成したいか尋ねます。そうする場合、説明用のalt-text生成のために各画像をチャットに貼り付けるよう依頼します。

### 情報ダンプ

最初の質問に答えたら、ユーザーに持っているすべてのコンテキストをダンプするよう促します。以下のような情報を要求します：
- プロジェクト/問題の背景
- 関連するチームディスカッションまたは共有ドキュメント
- 代替ソリューションが使用されていない理由
- 組織的コンテキスト（チームダイナミクス、過去のインシデント、政治）
- タイムラインプレッシャーまたは制約
- 技術アーキテクチャまたは依存関係
- ステークホルダーの懸念

整理することを心配しないようアドバイスします - すべてを出してください。コンテキストを提供する複数の方法を提供します：
- 意識の流れの情報ダンプ
- 読むべきチームチャンネルまたはスレッドを指摘
- 共有ドキュメントへのリンク

**統合が利用可能な場合**（例：Slack、Teams、Google Drive、SharePoint、またはその他のMCPサーバー）、これらを使用してコンテキストを直接取得できることを言及します。

**統合が検出されず、Claude.aiまたはClaudeアプリ内の場合：** Claude設定でコネクタを有効にして、メッセージングアプリとドキュメントストレージから直接コンテキストを取得できることを提案します。

最初のダンプが完了したら、明確化の質問をすることを伝えます。

**コンテキスト収集中：**

- ユーザーがチームチャンネルまたは共有ドキュメントに言及した場合：
  - 統合が利用可能な場合：コンテンツを今読み取ることを伝え、適切な統合を使用します
  - 統合が利用できない場合：アクセスの欠如を説明します。Claude設定でコネクタを有効にするか、関連コンテンツを直接貼り付けることを提案します。

- ユーザーが不明なエンティティ/プロジェクトに言及した場合：
  - 接続されたツールを検索して詳細を学習すべきか尋ねます
  - 検索する前にユーザーの確認を待ちます

- ユーザーがコンテキストを提供するにつれて、学習していることとまだ不明なことを追跡します

**明確化の質問：**

ユーザーが最初のダンプを完了したことを示したとき（または実質的なコンテキストが提供された後）、理解を確認するために明確化の質問をします：

コンテキストのギャップに基づいて5-10個の番号付き質問を生成します。

簡潔に答えることができることを伝えます（例：「1: はい、2: #channelを参照、3: 後方互換性のためいいえ」）、より多くのドキュメントにリンク、読むべきチャンネルを指摘、または情報ダンプを続けます。最も効率的な方法を選択します。

**終了条件：**
質問が理解を示すとき、つまり、基本を説明する必要なくエッジケースとトレードオフについて尋ねることができるときに、十分なコンテキストが収集されています。

**移行：**
この段階で提供したい追加のコンテキストがあるか、ドキュメントの起草に進む時か尋ねます。

ユーザーが追加したい場合は、許可します。準備ができたら、ステージ2に進みます。

## ステージ2：洗練と構造化

**目標：** ブレインストーミング、キュレーション、反復的な洗練を通じて、セクションごとにドキュメントを構築します。

**ユーザーへの指示：**
ドキュメントはセクションごとに構築されることを説明します。各セクションについて：
1. 含めるべき内容について明確化の質問をします
2. 5-20個のオプションをブレインストーミングします
3. ユーザーが保持/削除/結合するものを示します
4. セクションを起草します
5. 外科的な編集を通じて洗練します

最も不明な点が多いセクション（通常はコア決定/提案）から始め、残りを処理します。

**セクションの順序：**

ドキュメント構造が明確な場合：
どのセクションから始めたいか尋ねます。

最も不明な点が多いセクションから始めることを提案します。意思決定ドキュメントの場合、通常はコア提案です。仕様の場合、通常は技術的アプローチです。要約セクションは最後に残すのが最適です。

ユーザーがどのセクションが必要かわからない場合：
ドキュメントタイプとテンプレートに基づいて、ドキュメントタイプに適した3-5個のセクションを提案します。

この構造が機能するか、調整したいか尋ねます。

**構造が合意されたら：**

すべてのセクションのプレースホルダーテキストを含む初期ドキュメント構造を作成します。

**成果物へのアクセスが利用可能な場合：**
`create_file`を使用して成果物を作成します。これにより、Claudeとユーザーの両方に作業の足場が提供されます。

すべてのセクションのプレースホルダーを含む初期構造が作成されることを伝えます。

すべてのセクションヘッダーと「[To be written]」や「[Content here]」などの簡潔なプレースホルダーテキストを含む成果物を作成します。

足場のリンクを提供し、各セクションを埋める時であることを示します。

**成果物へのアクセスがない場合：**
作業ディレクトリにマークダウンファイルを作成します。適切に名前を付けます（例：`decision-doc.md`、`technical-spec.md`）。

すべてのセクションのプレースホルダーを含む初期構造が作成されることを伝えます。

すべてのセクションヘッダーとプレースホルダーテキストを含むファイルを作成します。

ファイル名が作成されたことを確認し、各セクションを埋める時であることを示します。

**各セクションについて：**

### ステップ1：明確化の質問

[セクション名]セクションの作業を開始することを発表します。含めるべき内容について5-10個の明確化の質問をします：

コンテキストとセクションの目的に基づいて5-10個の特定の質問を生成します。

簡潔に答えるか、カバーする重要なことを示すだけでよいことを伝えます。

### ステップ2：ブレインストーミング

[セクション名]セクションについて、セクションの複雑さに応じて、含まれる可能性のある[5-20]個のことをブレインストーミングします。以下を探します：
- 忘れられた可能性のある共有コンテキスト
- まだ言及されていない角度や考慮事項

セクションの複雑さに基づいて5-20個の番号付きオプションを生成します。最後に、追加のオプションが必要な場合は、さらにブレインストーミングすることを提供します。

### ステップ3：キュレーション

どのポイントを保持、削除、または結合すべきか尋ねます。次のセクションの優先順位を学習するのに役立つ簡潔な正当化を要求します。

例を提供します：
- "1,4,7,9を保持"
- "3を削除（1と重複）"
- "6を削除（オーディエンスは既にこれを知っている）"
- "11と12を結合"

**ユーザーが番号付き選択ではなく自由形式のフィードバックを提供した場合**（例：「良さそう」または「ほとんど気に入っているが...」）、好みを抽出して進めます。保持/削除/変更したいものを解析して適用します。

### ステップ4：ギャップチェック

選択した内容に基づいて、[セクション名]セクションに重要な欠落がないか尋ねます。

### ステップ5：起草

`str_replace`を使用して、このセクションのプレースホルダーテキストを実際の起草コンテンツに置き換えます。

選択した内容に基づいて[セクション名]セクションを今起草することを発表します。

**成果物を使用している場合：**
起草後、成果物へのリンクを提供します。

読み通して変更する内容を示すよう依頼します。具体的であることは次のセクションの学習に役立つことに注意します。

**ファイルを使用している場合（成果物なし）：**
起草後、完了を確認します。

[セクション名]セクションが[ファイル名]に起草されたことを伝えます。読み通して変更する内容を示すよう依頼します。具体的であることは次のセクションの学習に役立つことに注意します。

**ユーザーへの重要な指示（最初のセクションを起草するときに含める）：**
注意を提供します：ドキュメントを直接編集するのではなく、変更する内容を示すよう依頼します。これは将来のセクションのスタイルを学習するのに役立ちます。例：「Xの箇条書きを削除 - Yで既にカバーされている」または「3番目の段落をもっと簡潔に」。

### ステップ6：反復的な洗練

ユーザーがフィードバックを提供するにつれて：
- `str_replace`を使用して編集します（ドキュメント全体を再印刷しない）
- **成果物を使用している場合：** 各編集後に成果物へのリンクを提供します
- **ファイルを使用している場合：** 編集が完了したことを確認するだけです
- ユーザーがドキュメントを直接編集して読み取るよう依頼した場合：行った変更を精神的に記録し、将来のセクションのために心に留めます（これは好みを示します）

**セクションに満足するまで反復を続けます。**

### 品質チェック

実質的な変更がない3回連続の反復後、重要な情報を失うことなく削除できるものがあるか尋ねます。

セクションが完了したら、[セクション名]が完了したことを確認します。次のセクションに進む準備ができているか尋ねます。

**すべてのセクションについて繰り返します。**

### 完了に近づいたとき

完了に近づいたとき（セクションの80%以上が完了）、ドキュメント全体を再読み取り、以下をチェックする意図を発表します：
- セクション間の流れと一貫性
- 冗長性または矛盾
- 「スラップ」や一般的なフィラーに感じられるもの
- すべての文が重みを持っているかどうか

ドキュメント全体を読み取り、フィードバックを提供します。

**すべてのセクションが起草され、洗練されたとき：**
すべてのセクションが起草されたことを発表します。完全なドキュメントをもう一度レビューする意図を示します。

全体的な一貫性、流れ、完全性についてレビューします。

最終的な提案を提供します。

読者テストに進む準備ができているか、他に洗練したいものがあるか尋ねます。

## ステージ3：読者テスト

**目標：** 新しいClaude（コンテキストブリードなし）でドキュメントをテストし、読者にとって機能することを確認します。

**ユーザーへの指示：**
ドキュメントが実際に読者にとって機能するかどうかを確認するためにテストが行われることを説明します。これは盲点をキャッチします - 作成者には理にかなっているが、他の人を混乱させる可能性のあるもの。

### テストアプローチ

**サブエージェントへのアクセスが利用可能な場合（例：Claude Code内）：**

ユーザーの関与なしで直接テストを実行します。

### ステップ1：読者の質問を予測

このドキュメントを発見しようとするときに読者が尋ねる可能性のある質問を予測する意図を発表します。

読者が現実的に尋ねる5-10個の質問を生成します。

### ステップ2：サブエージェントでテスト

これらの質問が新しいClaudeインスタンス（この会話からのコンテキストなし）でテストされることを発表します。

各質問について、ドキュメントコンテンツと質問のみでサブエージェントを呼び出します。

各質問について、Reader Claudeが正しく/間違って理解したことを要約します。

### ステップ3：追加チェックを実行

追加チェックが実行されることを発表します。

曖昧さ、誤った仮定、矛盾をチェックするためにサブエージェントを呼び出します。

見つかった問題を要約します。

### ステップ4：報告と修正

問題が見つかった場合：
Reader Claudeが特定の問題で苦労したことを報告します。

特定の問題をリストします。

これらのギャップを修正する意図を示します。

問題のあるセクションの洗練に戻ります。

---

**サブエージェントへのアクセスがない場合（例：claude.ai Webインターフェース）：**

ユーザーが手動でテストを行う必要があります。

### ステップ1：読者の質問を予測

このドキュメントを発見しようとするときに人々が尋ねる可能性のある質問を尋ねます。Claude.aiに何を入力しますか？

読者が現実的に尋ねる5-10個の質問を生成します。

### ステップ2：テストのセットアップ

テスト手順を提供します：
1. 新しいClaude会話を開く：https://claude.ai
2. ドキュメントコンテンツを貼り付けるか共有します（コネクタが有効な共有ドキュメントプラットフォームを使用している場合、リンクを提供）
3. Reader Claudeに生成された質問を尋ねます

各質問について、Reader Claudeに以下を提供するよう指示します：
- 答え
- 曖昧または不明確なものがあるかどうか
- ドキュメントが既に知られていると仮定する知識/コンテキスト

Reader Claudeが正しい答えを提供するか、何かを誤解するかをチェックします。

### ステップ3：追加チェック

Reader Claudeにも尋ねます：
- "このドキュメントの何が読者にとって曖昧または不明確である可能性がありますか？"
- "このドキュメントは読者が既に知っていると仮定する知識やコンテキストは何ですか？"
- "内部的な矛盾や不整合はありますか？"

### ステップ4：結果に基づいて反復

Reader Claudeが間違った、または苦労したものを尋ねます。これらのギャップを修正する意図を示します。

問題のあるセクションの洗練に戻ります。

---

### 終了条件（両方のアプローチ）

Reader Claudeが一貫して質問に正しく答え、新しいギャップや曖昧さを表面化しない場合、ドキュメントは準備完了です。

## 最終レビュー

読者テストが合格したとき：
ドキュメントがReader Claudeテストに合格したことを発表します。完了前に：

1. 自分で最終的な読み直しを行うことを推奨します - このドキュメントを所有し、その品質に責任があります
2. 事実、リンク、または技術的詳細を再確認することを提案します
3. 望ましい影響を達成したことを確認するよう依頼します

もう一度レビューしたいか、作業が完了したか尋ねます。

**ユーザーが最終レビューを希望する場合、提供します。それ以外の場合：**
ドキュメントの完了を発表します。いくつかの最終的なヒントを提供します：
- 読者がドキュメントがどのように開発されたかを確認できるように、この会話を付録にリンクすることを検討します
- メインドキュメントを肥大化させることなく深さを提供するために付録を使用します
- 実際の読者からフィードバックを受けたらドキュメントを更新します

## 効果的なガイダンスのヒント

**トーン：**
- 直接的で手順的である
- ユーザーの行動に影響を与える場合、理由を簡潔に説明する
- アプローチを「売り込もう」としない - 実行するだけ

**偏差の処理：**
- ユーザーがステージをスキップしたい場合：これをスキップして自由形式で書きたいか尋ねます
- ユーザーがイライラしているように見える場合：予想より時間がかかっていることを認めます。より速く進む方法を提案します
- 常にユーザーにプロセスを調整する権限を与えます

**コンテキスト管理：**
- 全体を通して、言及されたものについてコンテキストが欠落している場合、積極的に尋ねます
- ギャップを蓄積させない - 発生したら対処します

**成果物管理：**
- 完全なセクションの起草には`create_file`を使用します
- すべての編集には`str_replace`を使用します
- すべての変更後に成果物リンクを提供します
- ブレインストーミングリストに成果物を使用しない - それは単なる会話です

**速度より品質：**
- ステージを急がない
- 各反復は意味のある改善を行うべきです
- 目標は実際に読者にとって機能するドキュメントです

